{% extends 'layout/base.html' %}

{% block title %} 消息 - {{sitedata.site_name}}{% endblock title %}

{% load static %}


{% block meta_tags %}
<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
<meta name="description" content="{{sitedata.search_desc}}">
<meta name="keywords" content="消息 {{sitedata.search_key}}">
<meta property="og:type" content="website">
<meta property="og:title" content="消息 - {{sitedata.site_name}}">
<meta property="og:description" content=" {{sitedata.search_desc}}">
{% endblock meta_tags %}


{% block article_content %}
<div class="category-banner">
    <img src="{% static 'images/news-banner.jpg' %}" alt="News">
    <h1>消息</h1>
</div>
<div class="main-product-container">

    <aside class="sidebar-main">

        <div class="sidebar-category">
            <div class="sidebar-category-heading">
                <strong>最新消息</strong>  
                <i class="fa-solid fa-bars"></i>
            </div>
                <ul class="sidebar-category-menu">
                    {% for news in news|slice:":5"  %}
                    <li><a href="{% url 'newspost' news.slug %}" aria-label="{{news.title}}">{{news.title}}</a></li>
                    {% endfor %}
                </ul>
        </div>

        <div class="sidebar-contact-box" style="background-image: url('{{sitedata.sidebar_contact_banner.url}}');">
            <div class="sidebar-contact-box-icon">
                <i class="fa-solid fa-headset"></i>
            </div>
            <strong>我们可以帮助您</strong>
            <p>您可以通过任何您方便的方式联系我们。我们的员工始终通过电子邮件和短信在线。</p>
            <a href="{% url 'contact' %}" aria-label="Contact Us">联系我们</a>
        </div>

        <div class="sidebar-recent-product">
            <div class="sidebar-recent-heading">
                <i class="fa-solid fa-bars-progress"></i>
                <strong>新产品</strong>
            </div>
            {% for product in recentProduct|slice:"3"  %}
            <div class="sidebar-recent-box">
                <a href="{% url 'svg_icon_detail' product.slug %}" aria-label="{{product.title}}" class="sidebar-recent-box-img"><img src="{{product.product_images.first.image.url}}" title="{{product.title}}"></a>
                <div class="sidebar-recent-box-text">
                    <a href="{% url 'svg_icon_detail' product.slug %}" aria-label="{{product.title}}">{{product.title}}</a>
                    <span></span>
                    <span></span>
                </div>
            </div>
            {% endfor %}
        </div>

    </aside>
<section class="home-sections">
    <div class="main-heading-container">
        <svg xmlns="http://www.w3.org/2000/svg" fill="#c80c24" viewBox="0 0 448 512"><path d="M160 80c0-26.5 21.5-48 48-48h32c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V80zM0 272c0-26.5 21.5-48 48-48H80c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V272zM368 96h32c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H368c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48z"/></svg>
        {% if group.heading %}
        <h3>{{group.heading}}</h3>
        {% else %}
        <h3>所有新闻</b></h3>
        {% endif %}
    </div>


    <div class="all-news-container">
        {% for news in news %}
        <!--**box***-->
        <div class="product-box">
            <!--img-->
            <a href="{% url 'newspost' news.slug %}" aria-label="{{news.title}}" class="product-img">
                <img src="{{news.banner_image.url}}" alt="{{news.title}}">
            </a>
            <!--text-->
            <div class="product-text">
                <!--title-->
                <a href="{% url 'newspost' news.slug %}" aria-label="{{news.title}}" class="product-box-p-name">{{news.title}}</a>
                <!--date-->
                <span>{{news.created_at}}</span>
                <!--details-->
                <p>{{news.meta_desc}}</p>
                <!--read more-->
                <a class="product-text-read" href="{% url 'newspost' news.slug %}">阅读更多</a>
            </div>
        </div><!--box-end-->
        {% endfor %}
    </div>

    {% if news|length < 1 %} <div class="search-not-found">
        <span style="color:red; font-size:0.8rem;">*尚未添加新闻</span>
    {% endif %}
    

    <!--page-number=====================-->
<div class="page-number">
    {% if pagination.has_previous %}
    <a href="{% url 'news' %}?page=1" aria-label="go to first page">&laquo;</a>
    <a href="{% url 'news' %}?page={{pagination.previous_page_number}}" aria-label="go to previous page">以前的</a>
    {% endif %}

    {% if pagination.has_next %}    
    <a href="{% url 'news' %}?page={{pagination.next_page_number}}" aria-label="go to next page">下一个</a>
    <a href="{% url 'news' %}?page={{pagination.paginator.num_pages}}" aria-label="go to last page">&raquo;</a>
    {% endif %}
</div>


    </div>
</section>






    {% endblock article_content %}